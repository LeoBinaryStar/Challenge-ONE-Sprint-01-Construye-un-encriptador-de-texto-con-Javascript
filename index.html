<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="HTML, CSS, JavaScript, Encriptador, Desencriptador, texto, Challenge ONE">
	<meta name="description" content="Encriptador y Desencriptador de textos del Challenge ONE.">
	<meta name="author" content="Leonardo Montes">
	<title>Encriptador y Desencriptador de textos</title>
	<link rel="shortcut icon" href="multimedia/icono.png" type="image/png">
	<link rel="stylesheet" href="reset.css">
	<link rel="stylesheet" href="style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap" rel="stylesheet">
</head>

<body>
	<section class="grid-layout">
		<header>
			<svg class="alura" width="32" height="48" viewBox="0 0 32 48" fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd"
					d="M23.3958 23.6529C23.3524 23.9311 23.2466 24.1959 23.0863 24.4275C22.926 24.659 22.7154 24.8512 22.4703 24.9898C21.9766 25.3086 21.5447 25.468 21.1077 25.6274C20.177 25.9488 19.1974 26.2702 18.1613 26.643C17.0687 27.0157 16.0891 27.3885 15.215 27.6585C14.1249 28.0313 13.0888 28.3526 12.1041 28.7254C11.3633 29.0425 10.6674 29.4556 10.0345 29.9544C9.44584 30.4877 8.93212 31.0983 8.50734 31.7695C8.07027 32.515 7.79518 33.4766 7.79518 34.5975C7.79518 36.842 8.34022 38.5491 9.43289 39.6161C10.523 40.7396 12.5438 41.2718 15.5389 41.2718C18.5933 41.2718 20.6655 40.6856 21.7607 39.5107C22.8482 38.3357 23.3932 36.6826 23.3932 34.5487V23.6529H23.3958ZM15.5415 0C20.8891 0 24.815 1.01553 27.3217 3.09802C29.831 5.12908 31.0856 7.74119 31.0856 10.8366V37.2148C31.0856 38.2817 30.8696 39.4567 30.4891 40.737C30.1035 42.0225 29.3425 43.1949 28.1418 44.2592C26.9977 45.3313 25.4166 46.2389 23.3984 46.933C21.3802 47.6272 18.7629 48 15.5441 48C12.3304 48 9.70798 47.6272 7.69234 46.933C5.6767 46.2389 4.09298 45.3313 2.9489 44.2592C1.8846 43.3001 1.07834 42.089 0.604178 40.737C0.218532 39.4592 0 38.2843 0 37.2174V33.001C0 30.7565 0.599036 28.674 1.79968 26.8563C3.00032 24.9898 4.68945 23.7095 6.8722 22.9073C7.96229 22.5345 9.21693 22.1618 10.6335 21.681C12.0527 21.1976 13.3588 20.7169 14.6699 20.2927C15.9811 19.8633 17.1252 19.434 18.1048 19.0586C18.6959 18.8221 19.2963 18.6094 19.9044 18.421L20.8866 17.9402C21.2722 17.7268 21.6501 17.4055 22.0332 16.9787C22.4137 16.5545 22.7402 16.0737 23.0153 15.5389C23.306 14.9599 23.4557 14.3203 23.4524 13.6724V11.9627C23.4564 11.3361 23.3249 10.716 23.0667 10.145C22.8508 9.5023 22.4137 8.91612 21.8147 8.38393C21.2156 7.84917 20.3955 7.42239 19.416 7.09845C18.4338 6.78222 17.1278 6.62025 15.6521 6.62025C12.5977 6.62025 10.5795 7.21157 9.48945 8.43535C8.5639 9.50488 8.01885 10.8392 7.91087 12.3329C7.91087 12.6543 7.63835 12.8677 7.30927 12.8677L0.658168 12.9757C0.500177 12.9764 0.348309 12.9146 0.235632 12.8039C0.122956 12.6931 0.0585941 12.5423 0.0565613 12.3844V10.8418C0.0565613 9.3429 0.331655 7.95458 0.930691 6.62025C1.5323 5.28334 2.46042 4.16497 3.71248 3.20086C4.96711 2.24189 6.60482 1.44231 8.56647 0.907552C10.4767 0.26481 12.8214 0 15.5467 0H15.5415Z"
					fill="#0A3871" />
			</svg>
			<section class="caja-header">
				<br>
				<h1>Encriptador y Desencriptador de textos</h1>
				<h2 class="challenge">Challenge ONE Sprint 01 - Montes Leonardo</h2>
			</section>
		</header>
		<section class="content-derecha">
			<div class="caja-encriptar">
				<textarea type="text" id="textoIngresado" class="texto-encriptar"
					placeholder="Ingrese el texto a encriptar." autofocus required></textarea>
				<p class="texto-informacion"><img class="informacion" src="multimedia/informacion.png"
						alt="información:">
					Por favor, no ingrese
					caracteres especiales.</p>
			</div>
			<div class="botones">
				<button id="encriptar" class="btn-encriptar"><img class="imagen-boton"
						src="multimedia/archivo-encriptado.png" alt="encriptación">
					Encriptar</button>
				<button id="desencriptar" class="btn-desencriptar"><img class="imagen-boton"
						src="multimedia/desencriptar.png" alt="desencriptar">
					Desencriptar</button>
			</div>
		</section>
		<section class="content-izquierda">
			<div class="caja-texto-procesado">
				<div class="texto-procesado">
					<img id="ImgNoEncontrado" src="multimedia/lupa.png" alt="Buscando texto" class="busqueda">
					<br>
					<strong id="NoEncontrado">Ningún mensaje fue encontrado</strong>
					<br><br>
					<p id="textoProcesado">Ingresa el texto que desees encriptar o desencriptar</p>
					<br>
					<button id="btnCopiar" class="btn-copiar"><img class="imagen-boton" src="multimedia/copiar.png"
							alt="Copiar">
						Copiar</button>
					<button id="btnLimpiar" class="btnLimpiar"><img class="imagen-boton" src="multimedia/limpiar.png"
							alt="Limpiar">
						Limpiar</button>
				</div>
			</div>
		</section>
	</section>
	<footer class="footer">
		<div>
			<h3 class="texto-footer">"El éxito es la suma de pequeños esfuerzos repetidos día tras día".</h3>
			<br>
			<h3 class="texto-footer">Puedes contactarme en mis redes:</h3>
			<br>
			<a href="https://github.com/LeoBinaryStar"><img class="imagen-footer" src="multimedia/github.png"
					alt="github"></a>
			<a href="https://www.linkedin.com/in/leonardomontesb/"><img class="imagen-footer"
					src="multimedia/linkedin.png" alt="linkedin"></a>
		</div>
	</footer>
</body>

</html>
<script>
	/*Obteniendo el texto al dar click en el botón de encriptar*/
	document.getElementById("encriptar").addEventListener("click", function () {
		let textoIngresado = document.getElementById("textoIngresado").value;
		let textoEncriptado = encriptar(textoIngresado);
		document.getElementById("textoProcesado").innerHTML = textoEncriptado;


		/*Se remueve el contenido del div*/
		let imagen = document.getElementById("ImgNoEncontrado");
		let strong = document.getElementById("NoEncontrado");
		let textoProcesado = document.getElementById("textoProcesado");

		// Eliminar la imagen y la etiqueta
		imagen.classList.remove("aparecer");
		strong.classList.remove("aparecer");
		imagen.classList.add("desaparecer");
		strong.classList.add("desaparecer");
		textoProcesado.style.height = "25em";
	});

	/*Se ingresa la cadena de texto y se toma cada posición para que en esta se pueda hacer la manipulación
	en caso de ser una vocal.*/

	function encriptar(textoIngresado) {
		let contador = 0;
		let longitud = textoIngresado.length;
		let textoEncriptado = "";
		while (contador < longitud) {
			let letraActual = textoIngresado[contador];

			if (letraActual === "a") {
				textoEncriptado += "ai";
			} else if (letraActual === "e") {
				textoEncriptado += "enter";
			} else if (letraActual === "i") {
				textoEncriptado += "imes";
			} else if (letraActual === "o") {
				textoEncriptado += "ober";
			} else if (letraActual === "u") {
				textoEncriptado += "utaf";
			} else {
				textoEncriptado += letraActual;
			}
			contador++;
		}

		return textoEncriptado;
	}

	document.getElementById("desencriptar").addEventListener("click", function () {
		let textoIngresado = document.getElementById("textoIngresado").value;
		let textoEncriptado = desencriptar(textoIngresado);
		document.getElementById("textoProcesado").innerHTML = textoEncriptado;


		/*Se remueve el contenido del div*/
		let imagen = document.getElementById("ImgNoEncontrado");
		let strong = document.getElementById("NoEncontrado");
		let textoProcesado = document.getElementById("textoProcesado");

		// Eliminar la imagen y la etiqueta
		imagen.classList.remove("aparecer");
		strong.classList.remove("aparecer");
		imagen.classList.add("desaparecer");
		strong.classList.add("desaparecer");
		textoProcesado.style.height = "25em";
	});

	function desencriptar(textoEncriptado) {
		let textoDesencriptado = "";
		let i = 0;
		while (i < textoEncriptado.length) {
			if (textoEncriptado.slice(i, i + 2) === "ai") {
				textoDesencriptado += "a";
				i += 2;
			} else if (textoEncriptado.slice(i, i + 5) === "enter") {
				textoDesencriptado += "e";
				i += 5;
			} else if (textoEncriptado.slice(i, i + 4) === "imes") {
				textoDesencriptado += "i";
				i += 4;
			} else if (textoEncriptado.slice(i, i + 4) === "ober") {
				textoDesencriptado += "o";
				i += 4;
			} else if (textoEncriptado.slice(i, i + 4) === "utaf") {
				textoDesencriptado += "u";
				i += 4;
			} else {
				textoDesencriptado += textoEncriptado[i];
				i += 1;
			}
		}
		return textoDesencriptado;
	}

	let textoProcesado = document.getElementById("textoProcesado");
	let btnCopiar = document.getElementById("btnCopiar");

	btnCopiar.addEventListener("click", function () {
		let texto = textoProcesado.textContent;
		navigator.clipboard.writeText(texto)
			/*.then se usa cuando se cumple una "promesa" e este caso se usa para imprimir un alert*/
			.then(() => {
				let mensaje = document.createElement("div");
				mensaje.classList.add("mensaje")
				mensaje.innerText = "¡Texto copiado con éxito!";

				// Agregar el mensaje al div
				document.body.appendChild(mensaje);

				// Remover el div después de un intervalo de tiempo
				setTimeout(function () {
					mensaje.classList.add("mover");
				}, 1750);
				setTimeout(function () {
					mensaje.remove();
				}, 3000);
			});
	});

	function desencriptar(textoEncriptado) {
		let textoDesencriptado = "";
		let i = 0;
		while (i < textoEncriptado.length) {
			if (textoEncriptado.slice(i, i + 2) === "ai") {
				textoDesencriptado += "a";
				i += 2;
			} else if (textoEncriptado.slice(i, i + 5) === "enter") {
				textoDesencriptado += "e";
				i += 5;
			} else if (textoEncriptado.slice(i, i + 4) === "imes") {
				textoDesencriptado += "i";
				i += 4;
			} else if (textoEncriptado.slice(i, i + 4) === "ober") {
				textoDesencriptado += "o";
				i += 4;
			} else if (textoEncriptado.slice(i, i + 4) === "utaf") {
				textoDesencriptado += "u";
				i += 4;
			} else {
				textoDesencriptado += textoEncriptado[i];
				i += 1;
			}
		}
		return textoDesencriptado;
	}

	document.getElementById("btnLimpiar").addEventListener("click", function () {
		/*Elimina el contenido de los textos ingresados previamente.*/
		document.getElementById("textoProcesado").innerHTML = "";
		/*Se devuelve la imagen y el strong*/
		/*Se remueve el contenido del div*/
		let imagen = document.getElementById("ImgNoEncontrado");
		let strong = document.getElementById("NoEncontrado");
		let textoProcesado = document.getElementById("textoProcesado");

		// Eliminar la imagen y la etiqueta
		imagen.classList.add("aparecer");
		strong.classList.add("aparecer");
		textoProcesado.style.height = "initial";
		textoProcesado.innerText = "Ingresa el texto que desees encriptar o desencriptar";
	});
</script>